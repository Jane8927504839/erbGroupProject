{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mt-4\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-center mt-5\"\n};\nconst _hoisted_3 = {\n  key: 1\n};\nconst _hoisted_4 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_5 = {\n  class: \"table\"\n};\nconst _hoisted_6 = {\n  class: \"input-group w-auto\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = [\"onUpdate:modelValue\"];\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = {\n  class: \"text-end\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h2\", null, \"購物車\", -1 /* HOISTED */)), $setup.cartItems.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_cache[2] || (_cache[2] = _createElementVNode(\"p\", null, \"購物車是空的\", -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/products\",\n    class: \"btn btn-primary\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\" 去購物 \")])),\n    _: 1 /* STABLE */\n  })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"table\", _hoisted_5, [_cache[3] || (_cache[3] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"商品\"), _createElementVNode(\"th\", null, \"價格\"), _createElementVNode(\"th\", null, \"數量\"), _createElementVNode(\"th\", null, \"小計\"), _createElementVNode(\"th\", null, \"操作\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.cartItems, item => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: item._id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"td\", null, \"HKD\" + _toDisplayString(item.price), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n      class: \"btn btn-outline-secondary\",\n      onClick: $event => $setup.updateQuantity(item, -1)\n    }, \"-\", 8 /* PROPS */, _hoisted_7), _withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      class: \"form-control text-center\",\n      \"onUpdate:modelValue\": $event => item.quantity = $event,\n      readonly: \"\"\n    }, null, 8 /* PROPS */, _hoisted_8), [[_vModelText, item.quantity]])])]), _createElementVNode(\"td\", null, \"HKD\" + _toDisplayString(item.price * item.quantity), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      class: \"btn btn-danger\",\n      onClick: $event => $setup.removeItem(item)\n    }, \"移除\", 8 /* PROPS */, _hoisted_9)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"h4\", null, \"總計: HKD\" + _toDisplayString($setup.total), 1 /* TEXT */), _createElementVNode(\"button\", {\n    class: \"btn btn-success\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.checkout && $setup.checkout(...args))\n  }, \"結帳\")])]))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","$setup","cartItems","length","_hoisted_2","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_hoisted_3","_hoisted_4","_hoisted_5","_Fragment","_renderList","item","_id","_toDisplayString","name","price","_hoisted_6","onClick","$event","updateQuantity","_hoisted_7","type","quantity","readonly","_hoisted_8","removeItem","_hoisted_9","_hoisted_10","total","args","checkout"],"sources":["/Users/jianyurui/Desktop/JAVA/JavaScript/erbGroupProject/sample/shopperZ/client/src/views/CartPage.vue"],"sourcesContent":["<template>\n    <div class=\"container mt-4\">\n      <h2>購物車</h2>\n      <div v-if=\"cartItems.length === 0\" class=\"text-center mt-5\">\n        <p>購物車是空的</p>\n        <router-link to=\"/products\" class=\"btn btn-primary\">\n          去購物\n        </router-link>\n      </div>\n      <div v-else>\n        <div class=\"table-responsive\">\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th>商品</th>\n                <th>價格</th>\n                <th>數量</th>\n                <th>小計</th>\n                <th>操作</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"item in cartItems\" :key=\"item._id\">\n                <td>{{ item.name }}</td>\n                <td>HKD{{ item.price }}</td>\n                <td>\n                  <div class=\"input-group w-auto\">\n                    <button class=\"btn btn-outline-secondary\" @click=\"updateQuantity(item, -1)\">-</button>\n                    <input type=\"number\" class=\"form-control text-center\" v-model=\"item.quantity\" readonly>\n                  </div>\n                </td>\n                <td>HKD{{ item.price * item.quantity }}</td>\n                <td>\n                  <button class=\"btn btn-danger\" @click=\"removeItem(item)\">移除</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"text-end\">\n          <h4>總計: HKD{{ total }}</h4>\n          <button class=\"btn btn-success\" @click=\"checkout\">結帳</button>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\n\nexport default {\n  name: 'CartPage',\n  setup() {\n    const store = useStore()\n    const cartItems = computed(() => store.state.cart.items)\n    const total = computed(() => cartItems.value.reduce((sum, item) => sum + item.price * item.quantity, 0))\n\n    const updateQuantity = (item, amount) => {\n      store.dispatch('cart/updateItemQuantity', { item, amount })\n    }\n\n    const removeItem = (item) => {\n      store.dispatch('cart/removeItem', item)\n    }\n\n    const checkout = () => {\n      store.dispatch('cart/checkout')\n    }\n\n    return {\n      cartItems,\n      total,\n      updateQuantity,\n      removeItem,\n      checkout\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 添加你的樣式 */\n</style>"],"mappings":";;EACSA,KAAK,EAAC;AAAgB;;EAD/BC,GAAA;EAGyCD,KAAK,EAAC;;;EAH/CC,GAAA;AAAA;;EAUaD,KAAK,EAAC;AAAkB;;EACpBA,KAAK,EAAC;AAAO;;EAePA,KAAK,EAAC;AAAoB;mBA1BjD;mBAAA;mBAAA;;EAuCaA,KAAK,EAAC;AAAU;;;uBAtCzBE,mBAAA,CA2CM,OA3CNC,UA2CM,G,0BA1CJC,mBAAA,CAAY,YAAR,KAAG,sBACIC,MAAA,CAAAC,SAAS,CAACC,MAAM,U,cAA3BL,mBAAA,CAKM,OALNM,UAKM,G,0BAJJJ,mBAAA,CAAa,WAAV,QAAM,sBACTK,YAAA,CAEcC,sBAAA;IAFDC,EAAE,EAAC,WAAW;IAACX,KAAK,EAAC;;IAL1CY,OAAA,EAAAC,QAAA,CAK4D,MAEpDC,MAAA,QAAAA,MAAA,OAPRC,gBAAA,CAK4D,OAEpD,E;IAPRC,CAAA;yBASMd,mBAAA,CAkCM,OA3CZe,UAAA,GAUQb,mBAAA,CA4BM,OA5BNc,UA4BM,GA3BJd,mBAAA,CA0BQ,SA1BRe,UA0BQ,G,0BAzBNf,mBAAA,CAQQ,gBAPNA,mBAAA,CAMK,aALHA,mBAAA,CAAW,YAAP,IAAE,GACNA,mBAAA,CAAW,YAAP,IAAE,GACNA,mBAAA,CAAW,YAAP,IAAE,GACNA,mBAAA,CAAW,YAAP,IAAE,GACNA,mBAAA,CAAW,YAAP,IAAE,E,wBAGVA,mBAAA,CAeQ,iB,kBAdNF,mBAAA,CAaKkB,SAAA,QAnCnBC,WAAA,CAsBiChB,MAAA,CAAAC,SAAS,EAAjBgB,IAAI;yBAAfpB,mBAAA,CAaK;MAb0BD,GAAG,EAAEqB,IAAI,CAACC;QACvCnB,mBAAA,CAAwB,YAAAoB,gBAAA,CAAjBF,IAAI,CAACG,IAAI,kBAChBrB,mBAAA,CAA4B,YAAxB,KAAG,GAAAoB,gBAAA,CAAGF,IAAI,CAACI,KAAK,kBACpBtB,mBAAA,CAKK,aAJHA,mBAAA,CAGM,OAHNuB,UAGM,GAFJvB,mBAAA,CAAsF;MAA9EJ,KAAK,EAAC,2BAA2B;MAAE4B,OAAK,EAAAC,MAAA,IAAExB,MAAA,CAAAyB,cAAc,CAACR,IAAI;OAAO,GAAC,iBA3BjGS,UAAA,G,gBA4BoB3B,mBAAA,CAAuF;MAAhF4B,IAAI,EAAC,QAAQ;MAAChC,KAAK,EAAC,0BAA0B;MA5BzE,uBAAA6B,MAAA,IA4BmFP,IAAI,CAACW,QAAQ,GAAAJ,MAAA;MAAEK,QAAQ,EAAR;4BA5BlGC,UAAA,I,cA4BmFb,IAAI,CAACW,QAAQ,E,OAGhF7B,mBAAA,CAA4C,YAAxC,KAAG,GAAAoB,gBAAA,CAAGF,IAAI,CAACI,KAAK,GAAGJ,IAAI,CAACW,QAAQ,kBACpC7B,mBAAA,CAEK,aADHA,mBAAA,CAAoE;MAA5DJ,KAAK,EAAC,gBAAgB;MAAE4B,OAAK,EAAAC,MAAA,IAAExB,MAAA,CAAA+B,UAAU,CAACd,IAAI;OAAG,IAAE,iBAjC7Ee,UAAA,E;wCAuCQjC,mBAAA,CAGM,OAHNkC,WAGM,GAFJlC,mBAAA,CAA2B,YAAvB,SAAO,GAAAoB,gBAAA,CAAGnB,MAAA,CAAAkC,KAAK,kBACnBnC,mBAAA,CAA6D;IAArDJ,KAAK,EAAC,iBAAiB;IAAE4B,OAAK,EAAAd,MAAA,QAAAA,MAAA,UAAA0B,IAAA,KAAEnC,MAAA,CAAAoC,QAAA,IAAApC,MAAA,CAAAoC,QAAA,IAAAD,IAAA,CAAQ;KAAE,IAAE,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}