{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport { ref, onMounted } from 'vue';\nexport default {\n  name: 'HomePage',\n  setup() {\n    const products = ref([]);\n    const loadProducts = async () => {\n      try {\n        const response = await fetch('/api/products?limit=12');\n        const data = await response.json();\n        products.value = data.products;\n      } catch (error) {\n        console.error('加载产品失败:', error);\n      }\n    };\n    onMounted(() => {\n      loadProducts();\n\n      // 轮播图自动切换\n      const imgSlider = document.querySelector('.img-slider');\n      if (imgSlider) {\n        const images = imgSlider.querySelectorAll('.img');\n        let currentImg = 0;\n        const changeImage = () => {\n          images.forEach(img => img.style.display = 'none');\n          images[currentImg].style.display = 'block';\n          currentImg = (currentImg + 1) % images.length;\n        };\n\n        // 初始显示第一张图片\n        changeImage();\n        // 每3秒切换一次图片\n        setInterval(changeImage, 3000);\n      }\n    });\n    return {\n      products\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","name","setup","products","loadProducts","response","fetch","data","json","value","error","console","imgSlider","document","querySelector","images","querySelectorAll","currentImg","changeImage","forEach","img","style","display","length","setInterval"],"sources":["/Users/jianyurui/Desktop/JAVA/JavaScript/erbGroupProject/sample/shopperZ/client/src/views/HomePage.vue"],"sourcesContent":["<template>\n  <div class=\"home-page\">\n    <!-- 轮播图部分 -->\n    <section>\n      <div class=\"section\">\n        <div class=\"section1\">\n          <div class=\"img-slider\">\n            <img src=\"@/assets/images/slider1.jpeg\" alt=\"\" class=\"img\">\n            <img src=\"@/assets/images/slider2.jpeg\" alt=\"\" class=\"img\">\n            <img src=\"@/assets/images/slider3.jpeg\" alt=\"\" class=\"img\">\n            <img src=\"@/assets/images/slider4.jpeg\" alt=\"\" class=\"img\">\n            <img src=\"@/assets/images/slider5.jpeg\" alt=\"\" class=\"img\">\n          </div>\n        </div>\n\n        <!-- 产品展示部分 -->\n        <div class=\"section2\">\n          <div class=\"container\">\n            <div class=\"items\" v-for=\"product in products\" :key=\"product._id\">\n              <router-link class=\"item\" :to=\"`/product/${product._id}`\">\n                <div class=\"img img1\">\n                  <img :src=\"product.images[0]\" :alt=\"product.name\">\n                </div>\n                <div class=\"name\">{{ product.name }}</div>\n                <div class=\"price\">¥{{ product.price }}</div>\n                <div class=\"info\">{{ product.description }}</div>\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\n\nexport default {\n  name: 'HomePage',\n  setup() {\n    const products = ref([])\n\n    const loadProducts = async () => {\n      try {\n        const response = await fetch('/api/products?limit=12')\n        const data = await response.json()\n        products.value = data.products\n      } catch (error) {\n        console.error('加载产品失败:', error)\n      }\n    }\n\n    onMounted(() => {\n      loadProducts()\n      \n      // 轮播图自动切换\n      const imgSlider = document.querySelector('.img-slider')\n      if (imgSlider) {\n        const images = imgSlider.querySelectorAll('.img')\n        let currentImg = 0\n        \n        const changeImage = () => {\n          images.forEach(img => img.style.display = 'none')\n          images[currentImg].style.display = 'block'\n          currentImg = (currentImg + 1) % images.length\n        }\n\n        // 初始显示第一张图片\n        changeImage()\n        // 每3秒切换一次图片\n        setInterval(changeImage, 3000)\n      }\n    })\n\n    return {\n      products\n    }\n  }\n}\n</script>\n\n<style scoped>\n.section {\n  width: 100%;\n  height: auto;\n  margin: auto;\n}\n\n.section1 {\n  width: 100%;\n  height: auto;\n  margin: auto;\n}\n\n.section2 {\n  width: 100%;\n  height: auto;\n  margin: auto;\n  padding: 20px;\n}\n\n.img-slider {\n  position: relative;\n  width: 100%;\n  height: 400px;\n}\n\n.img-slider img {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  display: none;\n}\n\n.container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  gap: 20px;\n  padding: 20px;\n}\n\n.item {\n  text-decoration: none;\n  color: inherit;\n  background: white;\n  padding: 15px;\n  border-radius: 8px;\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n  transition: transform 0.3s;\n}\n\n.item:hover {\n  transform: translateY(-5px);\n}\n\n.img {\n  width: 100%;\n  height: 200px;\n  margin-bottom: 10px;\n}\n\n.img img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 4px;\n}\n\n.name {\n  font-size: 1.2em;\n  font-weight: bold;\n  margin: 10px 0;\n}\n\n.price {\n  color: #e74c3c;\n  font-size: 1.1em;\n  font-weight: bold;\n}\n\n.info {\n  color: #666;\n  font-size: 0.9em;\n  margin-top: 5px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n@media (max-width: 768px) {\n  .img-slider {\n    height: 300px;\n  }\n\n  .container {\n    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  }\n}\n</style>"],"mappings":";;AAoCA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAI;AAEnC,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAKA,CAAA,EAAG;IACN,MAAMC,QAAO,GAAIJ,GAAG,CAAC,EAAE;IAEvB,MAAMK,YAAW,GAAI,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,QAAO,GAAI,MAAMC,KAAK,CAAC,wBAAwB;QACrD,MAAMC,IAAG,GAAI,MAAMF,QAAQ,CAACG,IAAI,CAAC;QACjCL,QAAQ,CAACM,KAAI,GAAIF,IAAI,CAACJ,QAAO;MAC/B,EAAE,OAAOO,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK;MAChC;IACF;IAEAV,SAAS,CAAC,MAAM;MACdI,YAAY,CAAC;;MAEb;MACA,MAAMQ,SAAQ,GAAIC,QAAQ,CAACC,aAAa,CAAC,aAAa;MACtD,IAAIF,SAAS,EAAE;QACb,MAAMG,MAAK,GAAIH,SAAS,CAACI,gBAAgB,CAAC,MAAM;QAChD,IAAIC,UAAS,GAAI;QAEjB,MAAMC,WAAU,GAAIA,CAAA,KAAM;UACxBH,MAAM,CAACI,OAAO,CAACC,GAAE,IAAKA,GAAG,CAACC,KAAK,CAACC,OAAM,GAAI,MAAM;UAChDP,MAAM,CAACE,UAAU,CAAC,CAACI,KAAK,CAACC,OAAM,GAAI,OAAM;UACzCL,UAAS,GAAI,CAACA,UAAS,GAAI,CAAC,IAAIF,MAAM,CAACQ,MAAK;QAC9C;;QAEA;QACAL,WAAW,CAAC;QACZ;QACAM,WAAW,CAACN,WAAW,EAAE,IAAI;MAC/B;IACF,CAAC;IAED,OAAO;MACLf;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}