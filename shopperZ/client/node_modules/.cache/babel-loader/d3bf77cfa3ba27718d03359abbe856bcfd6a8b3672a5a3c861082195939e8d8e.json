{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.reduce.js\";\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'CartPage',\n  setup() {\n    const store = useStore();\n    const cartItems = computed(() => store.state.cart.items);\n    const total = computed(() => cartItems.value.reduce((sum, item) => sum + item.price * item.quantity, 0));\n    const updateQuantity = (item, amount) => {\n      store.dispatch('cart/updateItemQuantity', {\n        item,\n        amount\n      });\n    };\n    const removeItem = item => {\n      store.dispatch('cart/removeItem', item);\n    };\n    const checkout = () => {\n      store.dispatch('cart/checkout');\n    };\n    return {\n      cartItems,\n      total,\n      updateQuantity,\n      removeItem,\n      checkout\n    };\n  }\n};","map":{"version":3,"names":["computed","useStore","name","setup","store","cartItems","state","cart","items","total","value","reduce","sum","item","price","quantity","updateQuantity","amount","dispatch","removeItem","checkout"],"sources":["/Users/jianyurui/Desktop/JAVA/JavaScript/erbGroupProject/sample/shopperZ/client/src/views/CartPage.vue"],"sourcesContent":["<template>\n    <div class=\"container mt-4\">\n      <h2>購物車</h2>\n      <div v-if=\"cartItems.length === 0\" class=\"text-center mt-5\">\n        <p>購物車是空的</p>\n        <router-link to=\"/products\" class=\"btn btn-primary\">\n          去購物\n        </router-link>\n      </div>\n      <div v-else>\n        <div class=\"table-responsive\">\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th>商品</th>\n                <th>價格</th>\n                <th>數量</th>\n                <th>小計</th>\n                <th>操作</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"item in cartItems\" :key=\"item._id\">\n                <td>{{ item.name }}</td>\n                <td>HKD{{ item.price }}</td>\n                <td>\n                  <div class=\"input-group w-auto\">\n                    <button class=\"btn btn-outline-secondary\" @click=\"updateQuantity(item, -1)\">-</button>\n                    <input type=\"number\" class=\"form-control text-center\" v-model=\"item.quantity\" readonly>\n                  </div>\n                </td>\n                <td>HKD{{ item.price * item.quantity }}</td>\n                <td>\n                  <button class=\"btn btn-danger\" @click=\"removeItem(item)\">移除</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"text-end\">\n          <h4>總計: HKD{{ total }}</h4>\n          <button class=\"btn btn-success\" @click=\"checkout\">結帳</button>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\n\nexport default {\n  name: 'CartPage',\n  setup() {\n    const store = useStore()\n    const cartItems = computed(() => store.state.cart.items)\n    const total = computed(() => cartItems.value.reduce((sum, item) => sum + item.price * item.quantity, 0))\n\n    const updateQuantity = (item, amount) => {\n      store.dispatch('cart/updateItemQuantity', { item, amount })\n    }\n\n    const removeItem = (item) => {\n      store.dispatch('cart/removeItem', item)\n    }\n\n    const checkout = () => {\n      store.dispatch('cart/checkout')\n    }\n\n    return {\n      cartItems,\n      total,\n      updateQuantity,\n      removeItem,\n      checkout\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 添加你的樣式 */\n</style>"],"mappings":";;AAgDA,SAASA,QAAO,QAAS,KAAI;AAC7B,SAASC,QAAO,QAAS,MAAK;AAE9B,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIH,QAAQ,CAAC;IACvB,MAAMI,SAAQ,GAAIL,QAAQ,CAAC,MAAMI,KAAK,CAACE,KAAK,CAACC,IAAI,CAACC,KAAK;IACvD,MAAMC,KAAI,GAAIT,QAAQ,CAAC,MAAMK,SAAS,CAACK,KAAK,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAE,GAAIC,IAAI,CAACC,KAAI,GAAID,IAAI,CAACE,QAAQ,EAAE,CAAC,CAAC;IAEvG,MAAMC,cAAa,GAAIA,CAACH,IAAI,EAAEI,MAAM,KAAK;MACvCb,KAAK,CAACc,QAAQ,CAAC,yBAAyB,EAAE;QAAEL,IAAI;QAAEI;MAAO,CAAC;IAC5D;IAEA,MAAME,UAAS,GAAKN,IAAI,IAAK;MAC3BT,KAAK,CAACc,QAAQ,CAAC,iBAAiB,EAAEL,IAAI;IACxC;IAEA,MAAMO,QAAO,GAAIA,CAAA,KAAM;MACrBhB,KAAK,CAACc,QAAQ,CAAC,eAAe;IAChC;IAEA,OAAO;MACLb,SAAS;MACTI,KAAK;MACLO,cAAc;MACdG,UAAU;MACVC;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}