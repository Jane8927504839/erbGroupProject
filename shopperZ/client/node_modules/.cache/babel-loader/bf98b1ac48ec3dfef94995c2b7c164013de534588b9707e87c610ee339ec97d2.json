{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, onMounted } from 'vue';\nimport { useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'Home',\n  setup() {\n    const router = useRouter();\n    const store = useStore();\n    const categories = ref([{\n      name: '炊具',\n      image: require('../assets/category1.jpg')\n    }, {\n      name: '刀具',\n      image: require('../assets/category2.jpg')\n    }, {\n      name: '餐具',\n      image: require('../assets/category3.jpg')\n    }]);\n    const hotProducts = ref([]);\n    const goToCategory = category => {\n      router.push({\n        name: 'ProductList',\n        query: {\n          category\n        }\n      });\n    };\n    const addToCart = product => {\n      store.dispatch('cart/addItem', product);\n    };\n    onMounted(async () => {\n      try {\n        const response = await fetch('/api/products?sort=popular&limit=4');\n        const data = await response.json();\n        hotProducts.value = data.products;\n      } catch (error) {\n        console.error('获取热门产品失败:', error);\n      }\n    });\n    return {\n      categories,\n      hotProducts,\n      goToCategory,\n      addToCart\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","useRouter","useStore","name","setup","router","store","categories","image","require","hotProducts","goToCategory","category","push","query","addToCart","product","dispatch","response","fetch","data","json","value","products","error","console"],"sources":["/Users/jianyurui/Desktop/JAVA/JavaScript/erbGroupProject/sample/shopperZ/client/src/views/HomePage.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <!-- 轮播图 -->\n    <div id=\"carouselExampleIndicators\" class=\"carousel slide\" data-bs-ride=\"carousel\">\n      <div class=\"carousel-inner\">\n        <div class=\"carousel-item active\">\n          <img src=\"../assets/banner1.jpg\" class=\"d-block w-100\" alt=\"厨具展示\">\n        </div>\n        <!-- 更多轮播项... -->\n      </div>\n    </div>\n\n    <!-- 产品分类 -->\n    <div class=\"container mt-5\">\n      <h2 class=\"text-center mb-4\">产品分类</h2>\n      <div class=\"row\">\n        <div class=\"col-md-4 mb-4\" v-for=\"category in categories\" :key=\"category.name\">\n          <div class=\"card category-card\" @click=\"goToCategory(category.name)\">\n            <img :src=\"category.image\" class=\"card-img-top\" :alt=\"category.name\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">{{ category.name }}</h5>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 热门产品 -->\n    <div class=\"container mt-5\">\n      <h2 class=\"text-center mb-4\">热门产品</h2>\n      <div class=\"row\">\n        <div class=\"col-md-3 mb-4\" v-for=\"product in hotProducts\" :key=\"product._id\">\n          <div class=\"card product-card\">\n            <img :src=\"product.images[0]\" class=\"card-img-top\" :alt=\"product.name\">\n            <div class=\"card-body\">\n              <h5 class=\"card-title\">{{ product.name }}</h5>\n              <p class=\"card-text text-danger\">¥{{ product.price }}</p>\n              <button @click=\"addToCart(product)\" class=\"btn btn-primary\">\n                加入购物车\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useStore } from 'vuex'\n\nexport default {\n  name: 'Home',\n  setup() {\n    const router = useRouter()\n    const store = useStore()\n    const categories = ref([\n      { name: '炊具', image: require('../assets/category1.jpg') },\n      { name: '刀具', image: require('../assets/category2.jpg') },\n      { name: '餐具', image: require('../assets/category3.jpg') }\n    ])\n    const hotProducts = ref([])\n\n    const goToCategory = (category) => {\n      router.push({ \n        name: 'ProductList', \n        query: { category } \n      })\n    }\n\n    const addToCart = (product) => {\n      store.dispatch('cart/addItem', product)\n    }\n\n    onMounted(async () => {\n      try {\n        const response = await fetch('/api/products?sort=popular&limit=4')\n        const data = await response.json()\n        hotProducts.value = data.products\n      } catch (error) {\n        console.error('获取热门产品失败:', error)\n      }\n    })\n\n    return {\n      categories,\n      hotProducts,\n      goToCategory,\n      addToCart\n    }\n  }\n}\n</script>\n\n<style scoped>\n.category-card {\n  cursor: pointer;\n  transition: transform 0.3s;\n}\n\n.category-card:hover {\n  transform: translateY(-5px);\n}\n\n.carousel-item img {\n  height: 400px;\n  object-fit: cover;\n}\n</style>"],"mappings":";AAiDA,SAASA,GAAG,EAAEC,SAAQ,QAAS,KAAI;AACnC,SAASC,SAAQ,QAAS,YAAW;AACrC,SAASC,QAAO,QAAS,MAAK;AAE9B,eAAe;EACbC,IAAI,EAAE,MAAM;EACZC,KAAKA,CAAA,EAAG;IACN,MAAMC,MAAK,GAAIJ,SAAS,CAAC;IACzB,MAAMK,KAAI,GAAIJ,QAAQ,CAAC;IACvB,MAAMK,UAAS,GAAIR,GAAG,CAAC,CACrB;MAAEI,IAAI,EAAE,IAAI;MAAEK,KAAK,EAAEC,OAAO,CAAC,yBAAyB;IAAE,CAAC,EACzD;MAAEN,IAAI,EAAE,IAAI;MAAEK,KAAK,EAAEC,OAAO,CAAC,yBAAyB;IAAE,CAAC,EACzD;MAAEN,IAAI,EAAE,IAAI;MAAEK,KAAK,EAAEC,OAAO,CAAC,yBAAyB;IAAE,EACzD;IACD,MAAMC,WAAU,GAAIX,GAAG,CAAC,EAAE;IAE1B,MAAMY,YAAW,GAAKC,QAAQ,IAAK;MACjCP,MAAM,CAACQ,IAAI,CAAC;QACVV,IAAI,EAAE,aAAa;QACnBW,KAAK,EAAE;UAAEF;QAAS;MACpB,CAAC;IACH;IAEA,MAAMG,SAAQ,GAAKC,OAAO,IAAK;MAC7BV,KAAK,CAACW,QAAQ,CAAC,cAAc,EAAED,OAAO;IACxC;IAEAhB,SAAS,CAAC,YAAY;MACpB,IAAI;QACF,MAAMkB,QAAO,GAAI,MAAMC,KAAK,CAAC,oCAAoC;QACjE,MAAMC,IAAG,GAAI,MAAMF,QAAQ,CAACG,IAAI,CAAC;QACjCX,WAAW,CAACY,KAAI,GAAIF,IAAI,CAACG,QAAO;MAClC,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,WAAW,EAAEA,KAAK;MAClC;IACF,CAAC;IAED,OAAO;MACLjB,UAAU;MACVG,WAAW;MACXC,YAAY;MACZI;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}