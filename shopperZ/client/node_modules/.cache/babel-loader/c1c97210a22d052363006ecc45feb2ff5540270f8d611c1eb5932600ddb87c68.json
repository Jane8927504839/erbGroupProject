{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport { createStore } from 'vuex';\nimport axios from 'axios';\nexport default createStore({\n  state: {\n    user: null,\n    cart: {\n      items: []\n    }\n  },\n  mutations: {\n    setUser(state, user) {\n      state.user = user;\n    },\n    addToCart(state, item) {\n      const existingItem = state.cart.items.find(i => i._id === item._id);\n      if (existingItem) {\n        existingItem.quantity++;\n      } else {\n        state.cart.items.push({\n          ...item,\n          quantity: 1\n        });\n      }\n    },\n    removeFromCart(state, itemId) {\n      state.cart.items = state.cart.items.filter(item => item._id !== itemId);\n    }\n  },\n  actions: {\n    async login({\n      commit\n    }, credentials) {\n      try {\n        const {\n          data\n        } = await axios.post('/api/users/login', credentials);\n        commit('setUser', data.user);\n        localStorage.setItem('token', data.token);\n        return data;\n      } catch (error) {\n        throw error.response.data;\n      }\n    },\n    async register({\n      commit\n    }, userData) {\n      try {\n        const {\n          data\n        } = await axios.post('/api/users/register', userData);\n        commit('setUser', data.user);\n        localStorage.setItem('token', data.token);\n        return data;\n      } catch (error) {\n        throw error.response.data;\n      }\n    },\n    logout({\n      commit\n    }) {\n      commit('setUser', null);\n      localStorage.removeItem('token');\n    }\n  }\n});","map":{"version":3,"names":["createStore","axios","state","user","cart","items","mutations","setUser","addToCart","item","existingItem","find","i","_id","quantity","push","removeFromCart","itemId","filter","actions","login","commit","credentials","data","post","localStorage","setItem","token","error","response","register","userData","logout","removeItem"],"sources":["/Users/jianyurui/Desktop/JAVA/JavaScript/erbGroupProject/sample/shopperZ/client/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport axios from 'axios'\n\nexport default createStore({\n  state: {\n    user: null,\n    cart: {\n      items: []\n    }\n  },\n  mutations: {\n    setUser(state, user) {\n      state.user = user\n    },\n    addToCart(state, item) {\n      const existingItem = state.cart.items.find(i => i._id === item._id)\n      if (existingItem) {\n        existingItem.quantity++\n      } else {\n        state.cart.items.push({ ...item, quantity: 1 })\n      }\n    },\n    removeFromCart(state, itemId) {\n      state.cart.items = state.cart.items.filter(item => item._id !== itemId)\n    }\n  },\n  actions: {\n    async login({ commit }, credentials) {\n      try {\n        const { data } = await axios.post('/api/users/login', credentials)\n        commit('setUser', data.user)\n        localStorage.setItem('token', data.token)\n        return data\n      } catch (error) {\n        throw error.response.data\n      }\n    },\n    async register({ commit }, userData) {\n      try {\n        const { data } = await axios.post('/api/users/register', userData)\n        commit('setUser', data.user)\n        localStorage.setItem('token', data.token)\n        return data\n      } catch (error) {\n        throw error.response.data\n      }\n    },\n    logout({ commit }) {\n      commit('setUser', null)\n      localStorage.removeItem('token')\n    }\n  }\n}) "],"mappings":";;;;AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAeD,WAAW,CAAC;EACzBE,KAAK,EAAE;IACLC,IAAI,EAAE,IAAI;IACVC,IAAI,EAAE;MACJC,KAAK,EAAE;IACT;EACF,CAAC;EACDC,SAAS,EAAE;IACTC,OAAOA,CAACL,KAAK,EAAEC,IAAI,EAAE;MACnBD,KAAK,CAACC,IAAI,GAAGA,IAAI;IACnB,CAAC;IACDK,SAASA,CAACN,KAAK,EAAEO,IAAI,EAAE;MACrB,MAAMC,YAAY,GAAGR,KAAK,CAACE,IAAI,CAACC,KAAK,CAACM,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAKJ,IAAI,CAACI,GAAG,CAAC;MACnE,IAAIH,YAAY,EAAE;QAChBA,YAAY,CAACI,QAAQ,EAAE;MACzB,CAAC,MAAM;QACLZ,KAAK,CAACE,IAAI,CAACC,KAAK,CAACU,IAAI,CAAC;UAAE,GAAGN,IAAI;UAAEK,QAAQ,EAAE;QAAE,CAAC,CAAC;MACjD;IACF,CAAC;IACDE,cAAcA,CAACd,KAAK,EAAEe,MAAM,EAAE;MAC5Bf,KAAK,CAACE,IAAI,CAACC,KAAK,GAAGH,KAAK,CAACE,IAAI,CAACC,KAAK,CAACa,MAAM,CAACT,IAAI,IAAIA,IAAI,CAACI,GAAG,KAAKI,MAAM,CAAC;IACzE;EACF,CAAC;EACDE,OAAO,EAAE;IACP,MAAMC,KAAKA,CAAC;MAAEC;IAAO,CAAC,EAAEC,WAAW,EAAE;MACnC,IAAI;QACF,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMtB,KAAK,CAACuB,IAAI,CAAC,kBAAkB,EAAEF,WAAW,CAAC;QAClED,MAAM,CAAC,SAAS,EAAEE,IAAI,CAACpB,IAAI,CAAC;QAC5BsB,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,IAAI,CAACI,KAAK,CAAC;QACzC,OAAOJ,IAAI;MACb,CAAC,CAAC,OAAOK,KAAK,EAAE;QACd,MAAMA,KAAK,CAACC,QAAQ,CAACN,IAAI;MAC3B;IACF,CAAC;IACD,MAAMO,QAAQA,CAAC;MAAET;IAAO,CAAC,EAAEU,QAAQ,EAAE;MACnC,IAAI;QACF,MAAM;UAAER;QAAK,CAAC,GAAG,MAAMtB,KAAK,CAACuB,IAAI,CAAC,qBAAqB,EAAEO,QAAQ,CAAC;QAClEV,MAAM,CAAC,SAAS,EAAEE,IAAI,CAACpB,IAAI,CAAC;QAC5BsB,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,IAAI,CAACI,KAAK,CAAC;QACzC,OAAOJ,IAAI;MACb,CAAC,CAAC,OAAOK,KAAK,EAAE;QACd,MAAMA,KAAK,CAACC,QAAQ,CAACN,IAAI;MAC3B;IACF,CAAC;IACDS,MAAMA,CAAC;MAAEX;IAAO,CAAC,EAAE;MACjBA,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC;MACvBI,YAAY,CAACQ,UAAU,CAAC,OAAO,CAAC;IAClC;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}